# Project Structure Documentation

## Overview

This project document was made by Nicolas Mendes to keep the project inline with the initial intended ideas. ðŸ¤« Shhh... Let's not leak my hard work! This project is meant to be private and it is using Nicolas' proprietary code property under a private license with a couple BSD and GPLv3 components. This is my fucking cool portfolio, even though I'm just a DirTy ZÃ© NiNguÃ‰m, just respect it ðŸ’© thanks :)

This project uses the Jinja3 templating engine to develop this static portfolio website. The primary files for this project are `global.html`, `base.html`, and various page-specific templates such as `index.html`.

Install dependencies:

```bash
python3 -m pip install staticjinja rcssmin jsmin jinja2 colorama djlint htmlmin
```

Run the build script with:

```bash
python3 ./build.py
```

WARNING: This project uses Python 3.6+ features, so you will need to use Python 3.6 or higher to run the build script. And NEVER EVER use staticjinja command line tool, this project needs the for loops and other features only available in the build python script.

## Global Variables

The file `global.html` contains global variables that are used throughout the project. This file includes the following variables:

```jinja
{% set pagesLanguage = "en" %}
{% set imagesPath = "static/images/" %}
{% set stylesPath = "static/styles/" %}
{% set scriptsPath = "static/engine/" %}
{% set systemPath = "system/" %}
{% set localDirectPath = "./" %}
{% set enablejQuery = false %}
{# NAV TYPES: "home","internal","none" #}
{% set navType = "home" %}
```

These variables can be imported into any template file using the `{% from '...' import ... %}` syntax.

Please, change the BASE_URL inside the build script to what corresponds to your host server.

BASE_URL = "https://filedn.com/lgvQNASoWi1QKeCbvFdVv8y/"

Please also check the internal pages and other global variables, they can contain the BASE_URL separately.

## Base Template

The `base.html` file is the primary template for the project. It imports the global variables from `global.html` and uses them to construct the general structure of the website. The base template also contains conditionally-rendered elements and blocks that can be filled in by child templates.

The base template includes conditional logic for different directory structures (internal vs. root), jQuery inclusion, and varied navigation types. Additionally, it includes blocks for `title`, `meta`, `header`, `content`, and `footer` which are meant to be filled by child templates.

```jinja
{% extends "base.html" %}
{% from '_partials/global.html' import pagesLanguage, imagesPath, systemPath, localDirectPath %}
{% block title %} Title {% endblock %}
{% block meta %} Meta description {% endblock %}
```

## Page-specific Templates

For each specific page of the website, a separate template file is created. These templates extend `base.html` and fill in the necessary blocks with content specific to that page.

For example, the `index.html` file might look like this:

```jinja
{# NAV TYPES: "home","internal","none" #}
{% set navType = "home" %}
{% extends "base.html" %}
```

Each page-specific template can set its own `navType` variable to control the style and contents of the navigation/header. For pages that need a different background color in the hero (like case study pages), the `isCaseStudy` variable can be set to `true`.

```jinja
{# NAV TYPES: "home","internal","none" #}
{% set navType = "none" %}
{% set isCaseStudy = true %}
{% extends "base.html" %}
```

In general, the structure of the project is designed to promote code reuse and modularity, with a clear separation between global, base, and page-specific templates.

## Project Directory Structure

Here is the structure of the directories and files in the project:

```
@src/
  _modules/
  _partials/
  static/
  system/
  styles-engine.css
  404.html
  aboutme.html
  base.html
  case-study-crm-card.html
  case-study-cultura.html
  index.html
  robots.txt
  sitemap.xml
```

- `@src/`: This is the source directory where all the templates and static files for the project are stored. Here are all files needed to build the project. The `@src/` directory contains the following subdirectories:
  - `_modules/`: This directory is meant for various reusable modules. Main semantic tags and essentially the core content of a template are not be considered modules. Modules are meant to be used in multiple templates. Examples include the hero, the footer, and the navigation.
  - `_partials/`: This directory contains partial templates that can be included in other templates. Examples include the global variables file (`global.html`) and any other smaller components you might want to reuse across different templates. The header and footer are also included here.
  - `static/`: This directory contains static files such as CSS, JavaScript, and images. These files will be copied to the output directory during the build process without any changes. All files here will be executed in the client side. CSS and JS files are minified during the build process.
  - `system/`: This directory is for system-related files. Such as the 404 page, robots.txt, sitemap.xml and password protected pages.
- The remaining files in the `@src/` directory are the primary HTML templates for the project. They extend the `base.html` template and fill in its blocks with page-specific content. Keep all build scripts along with the `@src/` directory and not inside it. Pretty much all files outside the `@src/` directory are meant to be served as static files (not including the build script).

Please make sure the robots.txt and sitemap.xml files are up to date when creating new pages OR changing existing pages paths.

PS: If you see weird files like ".cms.py" ou ".experimental_oop_builder.py", just ignore them for now. These are my attempts into adding more cool features to the project. There are also some optimization attempts...

NOTE: Under the Resources/docs folder, you can find more documentation and useful snippets!

## Building the Project

To compile the Jinja templates into static HTML files, use the following command:

```bash
# USE THIS PYTHON SCRIPT
python3 ./build.py

# Do not use the staticjinja command directly, it will break the build.
staticjinja build --srcpath=./@src --outpath=./ --static=static
```

This command instructs Staticjinja to build the project by:

- Looking for templates in the `@src/` directory (`--srcpath=./@src`).
- Outputting the rendered files to the root directory of the project (`--outpath=./`).
- Treating the `static/` directory as containing static files, which will be copied to the output directory without any template compilation (`--static=static`).

## Handling Navigation Types

In this project, we use the `navType` variable to determine the navigation style for each page. You can set the `navType` at the beginning of each template file with one of the following options:

- "home"
- "internal"
- "none"

```jinja
{# NAV TYPES: "home","internal","none" #}
{% set navType = "none" %}
```

When `navType` is set to "none", you should always provide a custom header. This can be done using the `require_alt_header` Jinja block. Here is an example of how to create a custom header:

```jinja
{% block require_alt_header %}
<!-- ðŸ¤¡ Header -->
<header class="header-force crm-tone-area">
    <div class="profile--picture goback--event">
        <a href="{{localDirectPath}}index.html">
            <img class="goback-button" src="{{imagesPath}}BACK.svg" alt="Go back button" loading="lazy">

            <p>Go back</p>
        </a>
    </div>
</header>
{% endblock %}
```

The `require_alt_header` block allows you to define an alternative header that will replace the standard header when `navType` is set to "none". This provides flexibility for pages that need a different style of navigation.

## Protect Root Files

The following files are protected and should never be deleted from the project root folder:

- .gitignore
- README.md
- LICENSE
- .editorconfig
- .vscode/
- .history/
- package.json
- package-lock.json
- gulpfile.js
- venv/
- @src/
- node_modules/
